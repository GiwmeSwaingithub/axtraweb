<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes, viewport-fit=cover">
  <title>üíï Valentine's Hearts ¬∑ Be My Valentine</title>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  
  <!-- Security Headers -->
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com https://cdnjs.cloudflare.com; font-src 'self' https://fonts.gstatic.com https://cdnjs.cloudflare.com data:; img-src 'self' https: data:; connect-src 'self' https://ig-analytics-vercel.vercel.app; frame-ancestors 'none';">
  <meta http-equiv="X-Frame-Options" content="DENY">
  <meta http-equiv="Strict-Transport-Security" content="max-age=31536000; includeSubDomains">

  <!-- Primary SEO -->
  <title>Axtra ‚Äì The Ultimate Entertainment App | Free Download for Android, iOS & Smart TV</title>
  <meta name="description" content="Download Axtra - the #1 free entertainment streaming app with unlimited movies, TV shows, and music. Available on Android, iOS, Windows & Smart TV. 4.8‚òÖ rated by 12,400+ users." />
  <meta name="keywords" content="Axtra app, free entertainment app, streaming app, download Axtra, movies app, TV shows app, music streaming, Android app, iOS app, Smart TV app" />
  <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" />
  <meta name="theme-color" content="#0f0f13" />
  <meta name="author" content="Axtra Studios" />
  <link rel="canonical" href="https://axtra.app.eduniapps.com/" />

  <!-- Favicon -->
  <link rel="icon" type="image/png" sizes="32x32" href="https://i.postimg.cc/MKrsKjvz/An-y62KY6-sop-Mm-z1BL8B7HZKVfe-N2Yz-u-J3SLDI1vwepewwb4-JBAEmx-Koys98UMLei-H3Ty6-c-UNJFXBb-SL4HPRNsg.jpg" />
  <link rel="icon" type="image/png" sizes="16x16" href="https://i.postimg.cc/MKrsKjvz/An-y62KY6-sop-Mm-z1BL8B7HZKVfe-N2Yz-u-J3SLDI1vwepewwb4-JBAEmx-Koys98UMLei-H3Ty6-c-UNJFXBb-SL4HPRNsg.jpg" />
  <link rel="apple-touch-icon" sizes="180x180" href="https://i.postimg.cc/MKrsKjvz/An-y62KY6-sop-Mm-z1BL8B7HZKVfe-N2Yz-u-J3SLDI1vwepewwb4-JBAEmx-Koys98UMLei-H3Ty6-c-UNJFXBb-SL4HPRNsg.jpg" />

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://axtra.app.eduniapps.com/" />
  <meta property="og:site_name" content="TO YOU MY LOVE on my valentine." />
  <meta property="og:title" content="Valentine wishes." />
  <meta property="og:description" content="Share your valentine love" />
  <meta property="og:image" content="https://i.ebayimg.com/images/g/skoAAeSwNn1pTpbO/s-l1600.webp" />
  <meta property="og:image:secure_url" content="https://i.postimg.cc/MKrsKjvz/An-y62KY6-sop-Mm-z1BL8B7HZKVfe-N2Yz-u-J3SLDI1vwepewwb4-JBAEmx-Koys98UMLei-H3Ty6-c-UNJFXBb-SL4HPRNsg.jpg" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />
  <meta property="og:image:alt" content="Axtra Entertainment App - Stream Movies, Shows & Music" />
  <meta property="og:locale" content="en_US" />

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:url" content="https://axtra.app.eduniapps.com/" />
  <meta name="twitter:title" content="Axtra ‚Äì Stream Unlimited Movies, Shows & Music Free" />
  <meta name="twitter:description" content="The #1 free entertainment app. Download Axtra for Android, iOS, Windows & Smart TV. 4.8‚òÖ rated." />
  <meta name="twitter:image" content="https://i.postimg.cc/MKrsKjvz/An-y62KY6-sop-Mm-z1BL8B7HZKVfe-N2Yz-u-J3SLDI1vwepewwb4-JBAEmx-Koys98UMLei-H3Ty6-c-UNJFXBb-SL4HPRNsg.jpg" />
  <meta name="twitter:image:alt" content="Axtra Entertainment App Screenshot" />
  <meta name="twitter:site" content="@AxtraApp" />
  <meta name="twitter:creator" content="@AxtraApp" />

  <!-- Structured Data ‚Äì SoftwareApplication -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "SoftwareApplication",
    "name": "Axtra",
    "description": "Stream unlimited movies, TV shows, and music for free on any device",
    "operatingSystem": "Android, iOS, Windows, Smart TV",
    "applicationCategory": "EntertainmentApplication",
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "USD",
      "availability": "https://schema.org/InStock"
    },
    "aggregateRating": {
      "@type": "AggregateRating",
      "ratingValue": "4.8",
      "ratingCount": "12400",
      "bestRating": "5",
      "worstRating": "1"
    },
    "author": {
      "@type": "Organization",
      "name": "Axtra Studios",
      "url": "https://axtra.app.eduniapps.com"
    },
    "downloadUrl": "https://axtra.app.eduniapps.com/download",
    "screenshot": "https://i.postimg.cc/MKrsKjvz/An-y62KY6-sop-Mm-z1BL8B7HZKVfe-N2Yz-u-J3SLDI1vwepewwb4-JBAEmx-Koys98UMLei-H3Ty6-c-UNJFXBb-SL4HPRNsg.jpg",
    "softwareVersion": "2.1.0",
    "datePublished": "2026-01-15",
    "url": "https://axtra.app.eduniapps.com"
  }
  </script>

  <!-- Structured Data ‚Äì Organization -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "Axtra Tech",
    "url": "https://axtra.app.eduniapps.com",
    "logo": "https://i.postimg.cc/MKrsKjvz/An-y62KY6-sop-Mm-z1BL8B7HZKVfe-N2Yz-u-J3SLDI1vwepewwb4-JBAEmx-Koys98UMLei-H3Ty6-c-UNJFXBb-SL4HPRNsg.jpg",
    "sameAs": [
      "https://facebook.com/axtraapp",
      "https://x.com/dekutconnect",
      "https://instagram.com/dekut.connect",
      "https://whatsapp.com/channel/0029VbAb8L46WaKx34k8vU0S"
    ]
  }
  </script>

  <!-- Structured Data ‚Äì WebSite (for search box) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "Axtra",
    "url": "https://axtra.app.eduniapps.com",
    "potentialAction": {
      "@type": "SearchAction",
      "target": "https://axtra.app.eduniapps.com/search?q={search_term_string}",
      "query-input": "required name=search_term_string"
    }
  }
  </script>

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html, body {
      width: 100%;
      height: 100%;
      background: #0a0305;
      font-family: 'Georgia', 'Times New Roman', serif;
      -webkit-font-smoothing: antialiased;
      overflow-x: hidden;
    }

    /* Heart Canvas Background */
    .heart-canvases {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100vh;
      z-index: 1;
      pointer-events: none;
    }

    canvas {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: block;
      pointer-events: none;
    }

    #pinkboard {
      background: transparent;
      z-index: 2;
      mix-blend-mode: screen;
    }

    #heart {
      background: transparent;
      z-index: 3;
      mix-blend-mode: lighten;
    }

    /* Pop-up Modal */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100vh;
      background: rgba(0, 0, 0, 0.75);
      backdrop-filter: blur(10px);
      z-index: 100;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 1rem;
      opacity: 1;
      transition: opacity 0.5s ease;
    }

    .modal-overlay.hidden {
      opacity: 0;
      pointer-events: none;
    }

    .modal-content {
      background: linear-gradient(135deg, #fff0f5 0%, #ffe0e8 100%);
      border: 5px solid #ff6b9d;
      border-radius: 40px;
      padding: 2.5rem 2rem;
      max-width: 600px;
      width: 100%;
      text-align: center;
      box-shadow: 0 30px 80px rgba(255, 20, 80, 0.6);
      position: relative;
      animation: popIn 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
      max-height: 85vh;
      overflow-y: auto;
    }

    @keyframes popIn {
      0% { transform: scale(0) rotate(-10deg); opacity: 0; }
      100% { transform: scale(1) rotate(0deg); opacity: 1; }
    }

    .modal-message {
      font-size: clamp(1.3rem, 4vw, 1.9rem);
      font-weight: 700;
      color: #d4145a;
      margin-bottom: 1.5rem;
      line-height: 1.6;
      text-shadow: 1px 1px 3px rgba(255, 100, 140, 0.3);
      letter-spacing: 0.5px;
      text-align: center;
    }

    .modal-message.truncated {
      display: -webkit-box;
      -webkit-line-clamp: 3;
      -webkit-box-orient: vertical;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: normal;
    }

    .modal-message.expanded {
      display: block;
    }

    .see-more-modal {
      background: rgba(255, 255, 255, 0.9);
      border: 2px solid #ff6b9d;
      color: #d4145a;
      font-size: 0.95rem;
      font-weight: 700;
      padding: 0.6rem 1.8rem;
      border-radius: 50px;
      letter-spacing: 1px;
      cursor: pointer;
      transition: all 0.3s;
      margin-bottom: 1.5rem;
      display: inline-block;
    }

    .see-more-modal:hover {
      background: #ff6b9d;
      color: white;
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(255, 107, 157, 0.4);
    }

    .modal-question {
      font-size: clamp(1.3rem, 4vw, 1.8rem);
      color: #a02050;
      margin-bottom: 2rem;
      font-weight: 700;
      font-style: italic;
    }

    .modal-buttons {
      display: flex;
      gap: 1.5rem;
      justify-content: center;
      flex-wrap: wrap;
    }

    .modal-btn {
      padding: 1.2rem 3rem;
      font-size: 1.3rem;
      font-weight: 800;
      border-radius: 50px;
      border: 3px solid;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      letter-spacing: 2px;
      text-transform: uppercase;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
    }

    .btn-yes {
      background: linear-gradient(135deg, #ff1a5a 0%, #ff4d7a 100%);
      border-color: #fff;
      color: white;
      text-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
    }

    .btn-yes:hover {
      transform: translateY(-4px) scale(1.05);
      box-shadow: 0 15px 40px rgba(255, 26, 90, 0.6);
    }

    .btn-no {
      background: rgba(255, 255, 255, 0.9);
      border-color: #ff6b9d;
      color: #d4145a;
      position: relative;
    }

    /* Main Content - Hidden Initially */
    .main-content {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100vh;
      z-index: 50;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.8s ease;
    }

    .main-content.visible {
      opacity: 1;
      pointer-events: auto;
    }

    .love-banner {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      z-index: 60;
      background: rgba(255, 20, 80, 0.2);
      backdrop-filter: blur(25px);
      border-bottom: 3px solid rgba(255, 100, 150, 0.5);
      color: #fff;
      text-align: center;
      padding: 1rem;
      font-size: clamp(0.85rem, 3vw, 1.1rem);
      font-weight: 800;
      letter-spacing: 3px;
      text-shadow: 0 0 20px #ff3b7a;
    }

    .romantic-message {
      position: fixed;
      bottom: 2rem;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(255, 240, 245, 0.95);
      backdrop-filter: blur(20px);
      border: 5px solid #ff8fb3;
      border-radius: 60px;
      padding: 1.5rem 2rem;
      box-shadow: 0 30px 80px rgba(255, 60, 110, 0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 55;
    }

    .romantic-text {
      font-size: clamp(1.5rem, 4vw, 2.2rem);
      color: #d4145a;
      font-weight: 700;
      line-height: 1.6;
      text-align: center;
      text-shadow: 1px 1px 3px rgba(255, 150, 180, 0.3);
      margin-bottom: 2rem;
    }

    .share-cta {
      background: linear-gradient(135deg, #ff1a5a 0%, #ff4d7a 100%);
      border: none;
      border-radius: 50px;
      padding: 0.9rem 2.2rem;
      color: white;
      font-weight: 800;
      font-size: 1.1rem;
      letter-spacing: 2px;
      border: 3px solid #fff;
      box-shadow: 0 12px 35px rgba(255, 26, 90, 0.6);
      cursor: pointer;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      display: inline-flex;
      align-items: center;
      gap: 10px;
      position: relative;
      overflow: hidden;
      text-transform: uppercase;
    }

    .share-cta::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.3);
      transform: translate(-50%, -50%);
      transition: width 0.6s, height 0.6s;
    }

    .share-cta:hover::before {
      width: 400px;
      height: 400px;
    }

    .share-cta:hover {
      transform: translateY(-4px) scale(1.05);
      box-shadow: 0 15px 45px rgba(255, 26, 90, 0.8);
    }

    .share-cta span {
      position: relative;
      z-index: 1;
    }

    /* Share Section - Hidden Until CTA Clicked */
    .share-section {
      position: fixed;
      bottom: -100%;
      left: 0;
      width: 100%;
      background: linear-gradient(160deg, #ffe0e8 0%, #fff0f5 100%);
      border-top: 6px solid #ff8fb3;
      box-shadow: 0 -20px 60px rgba(255, 80, 130, 0.6);
      padding: 2.5rem 1.5rem;
      border-radius: 60px 60px 0 0;
      z-index: 70;
      transition: bottom 0.6s cubic-bezier(0.4, 0, 0.2, 1);
      max-height: 85vh;
      overflow-y: auto;
    }

    .share-section.visible {
      bottom: 0;
    }

    .share-container {
      max-width: 800px;
      margin: 0 auto;
    }

    .close-share {
      position: absolute;
      top: 1.5rem;
      right: 1.5rem;
      background: rgba(255, 255, 255, 0.9);
      border: 2px solid #ff6b9d;
      width: 45px;
      height: 45px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      cursor: pointer;
      transition: all 0.3s;
      color: #d4145a;
      font-weight: 900;
    }

    .close-share:hover {
      background: #ff6b9d;
      color: white;
      transform: rotate(90deg) scale(1.1);
    }

    .section-title {
      font-size: clamp(1.8rem, 4vw, 2.5rem);
      color: #d4145a;
      text-align: center;
      margin-bottom: 2rem;
      font-weight: 900;
      text-shadow: 2px 2px 4px rgba(255, 100, 140, 0.3);
    }

    .message-input-group {
      background: rgba(255, 255, 255, 0.95);
      border: 4px solid #ffb3ce;
      border-radius: 50px;
      padding: 2rem;
      margin-bottom: 2rem;
      box-shadow: 0 15px 50px rgba(255, 77, 109, 0.3);
    }

    .love-input {
      background: #fff;
      border: 3px solid #ffaac8;
      border-radius: 30px;
      padding: 1.2rem 2rem;
      font-size: 1.15rem;
      font-weight: 500;
      color: #2a0a15;
      outline: none;
      width: 100%;
      font-family: inherit;
      margin-bottom: 1.5rem;
      transition: all 0.3s;
    }

    .love-input:focus {
      border-color: #ff3b7a;
      box-shadow: 0 0 0 4px rgba(255, 59, 122, 0.2);
      transform: translateY(-2px);
    }

    .love-input::placeholder {
      color: #a14560;
      font-style: italic;
    }

    .generate-btn {
      background: linear-gradient(135deg, #ff1a5a 0%, #ff4d7a 100%);
      border: none;
      border-radius: 50px;
      padding: 1.2rem 3rem;
      color: white;
      font-weight: 800;
      font-size: 1.2rem;
      letter-spacing: 2px;
      border: 3px solid #fff;
      box-shadow: 0 10px 35px rgba(255, 26, 90, 0.6);
      cursor: pointer;
      width: 100%;
      transition: all 0.3s;
    }

    .generate-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 15px 45px rgba(255, 26, 90, 0.8);
    }

    .link-preview {
      background: rgba(255, 240, 245, 0.95);
      border: 3px solid #ffc4d6;
      border-radius: 40px;
      padding: 1.5rem 2rem;
      margin-bottom: 1.5rem;
      display: none;
      text-align: center;
    }

    .link-preview.visible {
      display: block;
    }

    .link-preview a {
      color: #c02060;
      text-decoration: none;
      border-bottom: 2px dotted #ff6b9d;
      font-weight: 700;
      word-break: break-all;
      transition: all 0.3s;
    }

    .link-preview a:hover {
      color: #ff1a5a;
      border-bottom: 2px solid #ff1a5a;
    }

    .copy-btn {
      background: #fff;
      border: 2px solid #ff6b9d;
      border-radius: 30px;
      padding: 0.8rem 2rem;
      color: #d4145a;
      font-weight: 700;
      cursor: pointer;
      margin-top: 1rem;
      transition: all 0.3s;
    }

    .copy-btn:hover {
      background: #ff6b9d;
      color: white;
      transform: translateY(-2px);
    }

    /* Mobile Optimizations */
    @media (max-width: 768px) {
      .modal-content {
        padding: 2rem 1.5rem;
      }

      .modal-message {
        font-size: 1.8rem;
      }

      .modal-btn {
        padding: 1rem 2rem;
        font-size: 1.1rem;
      }

      .romantic-message {
        bottom: 1rem;
        padding: 1rem 1.5rem;
      }

      .share-cta {
        padding: 0.8rem 1.8rem;
        font-size: 1rem;
      }

      .share-section {
        padding: 2rem 1rem;
      }
    }

    /* Floating Hearts Animation */
    .floating-hearts {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100vh;
      pointer-events: none;
      z-index: 80;
    }

    .floating-heart-emoji {
      position: absolute;
      font-size: 2.5rem;
      animation: floatUp 6s ease-in-out infinite;
      opacity: 0;
    }

    @keyframes floatUp {
      0% {
        transform: translateY(100vh) rotate(0deg);
        opacity: 0;
      }
      10% {
        opacity: 1;
      }
      90% {
        opacity: 1;
      }
      100% {
        transform: translateY(-100px) rotate(360deg);
        opacity: 0;
      }
    }
  </style>
</head>
<body>

  <!-- Heart Canvas Background -->
  <div class="heart-canvases">
    <canvas id="pinkboard"></canvas>
    <canvas id="heart"></canvas>
  </div>

  <!-- Floating Hearts Container -->
  <div class="floating-hearts" id="floatingHearts"></div>

  <!-- Pop-up Modal -->
  <div class="modal-overlay" id="modalOverlay">
    <div class="modal-content">
      <div class="modal-message truncated" id="modalMessage">
        üíù You are the light of my life, the beat of my heart, and the love of my soul. Every moment with you is a treasure, every memory a gift. Will you be mine, today and always? üíï‚ú®
      </div>
      <button id="seeMoreModal" class="see-more-modal">
        üíï see more
      </button>
      <div class="modal-question">
        Do you love me? üíï
      </div>
      <div class="modal-buttons">
        <button class="modal-btn btn-yes" id="btnYes">
          üíñ Yes! üíñ
        </button>
        <button class="modal-btn btn-no" id="btnNo">
          No
        </button>
      </div>
    </div>
  </div>

  <!-- Main Content (Hidden until "Yes" is clicked) -->
  <div class="main-content" id="mainContent">
    <div class="love-banner">
      üíò MY HEART BELONGS TO YOU üíò
    </div>

    <div class="romantic-message">
      <button class="share-cta" id="shareCTA">
        <span>Share Your Message</span>
      </button>
    </div>
  </div>

  <!-- Share Section (Slides up from bottom) -->
  <div class="share-section" id="shareSection">
    <button class="close-share" id="closeShare">√ó</button>
    
    <div class="share-container">
      <h2 class="section-title">Create Your Love Message üíï</h2>

      <div class="message-input-group">
        <input 
          type="text" 
          id="loveMessageInput" 
          class="love-input" 
          placeholder=""
          autofocus
        >
        <button id="generateBtn" class="generate-btn">
          üîó Generate Love Link
        </button>
      </div>

      <div class="link-preview" id="linkPreview">
        <div style="margin-bottom: 1rem; color: #a02050; font-weight: 600;">Your Love Link:</div>
        <a href="#" id="generatedLink" target="_blank"></a>
        <button id="copyBtn" class="copy-btn">üìã Copy Link</button>
      </div>
    </div>
  </div>

  <script>
    // ===================================================================
    //   HEART ANIMATIONS
    // ===================================================================
    (function() {
      "use strict";

      const settings = {
        particles: { length: 500, duration: 2, velocity: 100, effect: -0.75, size: 30 }
      };

      let b = 0;
      let c = ["ms", "moz", "webkit", "o"];
      for (let a = 0; a < c.length && !window.requestAnimationFrame; ++a) {
        window.requestAnimationFrame = window[c[a] + "RequestAnimationFrame"];
        window.cancelAnimationFrame = window[c[a] + "CancelAnimationFrame"] || window[c[a] + "CancelRequestAnimationFrame"];
      }
      if (!window.requestAnimationFrame) {
        window.requestAnimationFrame = function(h) {
          let d = new Date().getTime();
          let f = Math.max(0, 16 - (d - b));
          let g = window.setTimeout(function() { h(d + f); }, f);
          b = d + f;
          return g;
        };
      }
      if (!window.cancelAnimationFrame) {
        window.cancelAnimationFrame = function(d) { clearTimeout(d); };
      }

      let Point = (function() {
        function Point(x, y) { this.x = x || 0; this.y = y || 0; }
        Point.prototype.clone = function() { return new Point(this.x, this.y); };
        Point.prototype.length = function(length) {
          if (typeof length == "undefined") return Math.sqrt(this.x * this.x + this.y * this.y);
          this.normalize(); this.x *= length; this.y *= length; return this;
        };
        Point.prototype.normalize = function() {
          let len = this.length(); this.x /= len; this.y /= len; return this;
        };
        return Point;
      })();

      let Particle = (function() {
        function Particle() { this.position = new Point(); this.velocity = new Point(); this.acceleration = new Point(); this.age = 0; }
        Particle.prototype.initialize = function(x, y, dx, dy) {
          this.position.x = x; this.position.y = y; this.velocity.x = dx; this.velocity.y = dy;
          this.acceleration.x = dx * settings.particles.effect; this.acceleration.y = dy * settings.particles.effect;
          this.age = 0;
        };
        Particle.prototype.update = function(deltaTime) {
          this.position.x += this.velocity.x * deltaTime; this.position.y += this.velocity.y * deltaTime;
          this.velocity.x += this.acceleration.x * deltaTime; this.velocity.y += this.acceleration.y * deltaTime;
          this.age += deltaTime;
        };
        Particle.prototype.draw = function(context, image) {
          function ease(t) { return --t * t * t + 1; }
          let size = image.width * ease(this.age / settings.particles.duration);
          context.globalAlpha = 1 - this.age / settings.particles.duration;
          context.drawImage(image, this.position.x - size / 2, this.position.y - size / 2, size, size);
        };
        return Particle;
      })();

      let ParticlePool = (function() {
        let particles, firstActive = 0, firstFree = 0, duration = settings.particles.duration;
        function ParticlePool(length) {
          particles = new Array(length);
          for (let i = 0; i < length; i++) particles[i] = new Particle();
        }
        ParticlePool.prototype.add = function(x, y, dx, dy) {
          particles[firstFree].initialize(x, y, dx, dy);
          firstFree++; if (firstFree == particles.length) firstFree = 0;
          if (firstActive == firstFree) firstActive++;
          if (firstActive == particles.length) firstActive = 0;
        };
        ParticlePool.prototype.update = function(deltaTime) {
          let i;
          if (firstActive < firstFree) { for (i = firstActive; i < firstFree; i++) particles[i].update(deltaTime); }
          if (firstFree < firstActive) {
            for (i = firstActive; i < particles.length; i++) particles[i].update(deltaTime);
            for (i = 0; i < firstFree; i++) particles[i].update(deltaTime);
          }
          while (particles[firstActive].age >= duration && firstActive != firstFree) {
            firstActive++; if (firstActive == particles.length) firstActive = 0;
          }
        };
        ParticlePool.prototype.draw = function(context, image) {
          let i;
          if (firstActive < firstFree) { for (i = firstActive; i < firstFree; i++) particles[i].draw(context, image); }
          if (firstFree < firstActive) {
            for (i = firstActive; i < particles.length; i++) particles[i].draw(context, image);
            for (i = 0; i < firstFree; i++) particles[i].draw(context, image);
          }
        };
        return ParticlePool;
      })();

      (function initPinkHeart() {
        let canvas = document.getElementById('pinkboard');
        if (!canvas) return;
        let context = canvas.getContext('2d');
        let particles = new ParticlePool(settings.particles.length);
        let particleRate = settings.particles.length / settings.particles.duration;
        let time;

        // Responsive scale factor
        let scaleFactor = 1;
        
        function updateScaleFactor() {
          const minDimension = Math.min(window.innerWidth, window.innerHeight);
          scaleFactor = Math.min(minDimension / 600, 1);
        }

        function pointOnHeart(t) {
          return new Point(
            160 * Math.pow(Math.sin(t), 3) * scaleFactor,
            (130 * Math.cos(t) - 50 * Math.cos(2 * t) - 20 * Math.cos(3 * t) - 10 * Math.cos(4 * t) + 25) * scaleFactor
          );
        }

        let image = (function() {
          let c = document.createElement('canvas');
          let ctx = c.getContext('2d');
          c.width = settings.particles.size;
          c.height = settings.particles.size;
          function to(t) {
            let point = pointOnHeart(t);
            point.x = settings.particles.size / 2 + (point.x * settings.particles.size) / 350;
            point.y = settings.particles.size / 2 - (point.y * settings.particles.size) / 350;
            return point;
          }
          ctx.beginPath();
          let t = -Math.PI;
          let pt = to(t);
          ctx.moveTo(pt.x, pt.y);
          while (t < Math.PI) { t += 0.01; pt = to(t); ctx.lineTo(pt.x, pt.y); }
          ctx.closePath();
          ctx.fillStyle = "#ea80b0";
          ctx.fill();
          let img = new Image();
          img.src = c.toDataURL();
          return img;
        })();

        function render() {
          requestAnimationFrame(render);
          let newTime = new Date().getTime() / 1000;
          let deltaTime = newTime - (time || newTime);
          time = newTime;
          context.clearRect(0, 0, canvas.width, canvas.height);
          let amount = particleRate * deltaTime;
          for (let i = 0; i < amount; i++) {
            let pos = pointOnHeart(Math.PI - 2 * Math.PI * Math.random());
            let dir = pos.clone().length(settings.particles.velocity);
            particles.add(canvas.width / 2 + pos.x, canvas.height / 2 - pos.y, dir.x, -dir.y);
          }
          particles.update(deltaTime);
          particles.draw(context, image);
        }

        function onResize() { 
          canvas.width = canvas.clientWidth; 
          canvas.height = canvas.clientHeight; 
          updateScaleFactor();
        }
        
        window.addEventListener('resize', onResize);
        setTimeout(() => { 
          onResize(); 
          render(); 
        }, 20);
      })();

      (function initSecondHeart() {
        let canvas = document.getElementById('heart');
        if (!canvas) return;
        let mobile = /android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test((navigator.userAgent || navigator.vendor || window.opera).toLowerCase());
        let koef = mobile ? 0.5 : 1;
        let ctx = canvas.getContext('2d');
        let width, height;
        let rand = Math.random;

        // Responsive scale for heart
        let heartScale = 1;
        
        function updateHeartScale() {
          const minDimension = Math.min(window.innerWidth, window.innerHeight);
          heartScale = Math.min(minDimension / 800, 1);
        }

        function heartPosition(rad) {
          return [
            Math.pow(Math.sin(rad), 3) * heartScale, 
            -(15 * Math.cos(rad) - 5 * Math.cos(2 * rad) - 2 * Math.cos(3 * rad) - Math.cos(4 * rad)) * heartScale
          ];
        }

        function scaleAndTranslate(pos, sx, sy, dx, dy) {
          return [dx + pos[0] * sx, dy + pos[1] * sy];
        }

        let traceCount = mobile ? 20 : 50;
        let pointsOrigin = [];
        let dr = mobile ? 0.3 : 0.1;
        
        function generateHeartPoints() {
          pointsOrigin = [];
          for (let i = 0; i < Math.PI * 2; i += dr) pointsOrigin.push(scaleAndTranslate(heartPosition(i), 210, 13, 0, 0));
          for (let i = 0; i < Math.PI * 2; i += dr) pointsOrigin.push(scaleAndTranslate(heartPosition(i), 150, 9, 0, 0));
          for (let i = 0; i < Math.PI * 2; i += dr) pointsOrigin.push(scaleAndTranslate(heartPosition(i), 90, 5, 0, 0));
        }
        
        generateHeartPoints();
        let heartPointsCount = pointsOrigin.length;
        let targetPoints = [];

        function pulse(kx, ky) {
          for (let i = 0; i < pointsOrigin.length; i++) {
            targetPoints[i] = [kx * pointsOrigin[i][0] + width / 2, ky * pointsOrigin[i][1] + height / 2];
          }
        }

        let e = [];
        for (let i = 0; i < heartPointsCount; i++) {
          let x = rand() * (canvas.width || 800);
          let y = rand() * (canvas.height || 600);
          e[i] = {
            vx: 0, vy: 0, R: 2, speed: rand() + 5, q: ~~(rand() * heartPointsCount), D: 2 * (i % 2) - 1,
            force: 0.2 * rand() + 0.7,
            f: "hsla(0," + ~~(40 * rand() + 100) + "%," + ~~(60 * rand() + 20) + "%,.4)",
            trace: []
          };
          for (let k = 0; k < traceCount; k++) e[i].trace[k] = { x: x, y: y };
        }

        let config = { traceK: 0.4, timeDelta: 0.01 };
        let time = 0;

        function resizeCanvas() {
          width = canvas.width = koef * innerWidth;
          height = canvas.height = koef * innerHeight;
          updateHeartScale();
          generateHeartPoints();
          ctx.fillStyle = "rgba(0,0,0,1)";
          ctx.fillRect(0, 0, width, height);
        }
        
        window.addEventListener('resize', resizeCanvas);
        resizeCanvas();

        function loop() {
          let n = -Math.cos(time);
          pulse((1 + n) * .5, (1 + n) * .5);
          time += ((Math.sin(time)) < 0 ? 9 : (n > 0.8) ? .2 : 1) * config.timeDelta;
          ctx.fillStyle = "rgba(0,0,0,.08)";
          ctx.fillRect(0, 0, width, height);
          for (let i = e.length; i--;) {
            let u = e[i];
            let q = targetPoints[u.q];
            if (!q) continue;
            let dx = u.trace[0].x - q[0];
            let dy = u.trace[0].y - q[1];
            let length = Math.sqrt(dx * dx + dy * dy);
            if (10 > length) {
              if (0.95 < rand()) { u.q = ~~(rand() * heartPointsCount); }
              else {
                if (0.99 < rand()) u.D *= -1;
                u.q += u.D; u.q %= heartPointsCount;
                if (0 > u.q) u.q += heartPointsCount;
              }
            }
            u.vx += -dx / length * u.speed;
            u.vy += -dy / length * u.speed;
            u.trace[0].x += u.vx;
            u.trace[0].y += u.vy;
            u.vx *= u.force;
            u.vy *= u.force;
            for (let k = 0; k < u.trace.length - 1;) {
              let T = u.trace[k];
              let N = u.trace[++k];
              N.x -= config.traceK * (N.x - T.x);
              N.y -= config.traceK * (N.y - T.y);
            }
            ctx.fillStyle = u.f;
            for (let k = 0; k < u.trace.length; k++) {
              ctx.fillRect(u.trace[k].x, u.trace[k].y, 1.2, 1.2);
            }
          }
          requestAnimationFrame(loop);
        }
        loop();
      })();
    })();

    // ===================================================================
    //   VALENTINE INTERACTION
    // ===================================================================
    (function setupValentine() {
      const modalOverlay = document.getElementById('modalOverlay');
      const modalMessage = document.getElementById('modalMessage');
      const seeMoreModal = document.getElementById('seeMoreModal');
      const btnYes = document.getElementById('btnYes');
      const btnNo = document.getElementById('btnNo');
      const mainContent = document.getElementById('mainContent');
      const shareCTA = document.getElementById('shareCTA');
      const shareSection = document.getElementById('shareSection');
      const closeShare = document.getElementById('closeShare');
      const loveInput = document.getElementById('loveMessageInput');
      const generateBtn = document.getElementById('generateBtn');
      const linkPreview = document.getElementById('linkPreview');
      const generatedLink = document.getElementById('generatedLink');
      const copyBtn = document.getElementById('copyBtn');
      const floatingHearts = document.getElementById('floatingHearts');

      // Get message from URL
      function getMessageFromURL() {
        let params = new URLSearchParams(window.location.search);
        let msg = params.get('msg');
        if (msg && msg.trim() !== '') {
          try { 
            msg = decodeURIComponent(msg); 
          } catch(e) {} 
          return msg.trim();
        }
        return null;
      }

      // Default romantic messages
      const defaultMessages = [
        "You are the light of my life, the beat of my heart, and the love of my soul. Every moment with you is a treasure, every memory a gift. Will you be mine, today and always? üíï‚ú®",
        "From the moment I met you, my heart knew you were the one. You make every day brighter, every moment sweeter. I choose you today, tomorrow, and forever. Be mine? üíñ",
        "You are my dream come true, my wish upon a star, my forever love. In your eyes, I see my future. In your smile, I find my home. Will you be my Valentine? üíù"
      ];

      // Set custom message if exists
      const urlMsg = getMessageFromURL();
      let displayMessage;
      
      if (urlMsg) {
        displayMessage = `üíù ${urlMsg} üíï`;
      } else {
        displayMessage = defaultMessages[Math.floor(Math.random() * defaultMessages.length)];
      }
      
      modalMessage.textContent = displayMessage;
      loveInput.value = urlMsg || displayMessage;

      // See more/less toggle for modal
      seeMoreModal.addEventListener('click', function() {
        if (modalMessage.classList.contains('truncated')) {
          modalMessage.classList.remove('truncated');
          modalMessage.classList.add('expanded');
          seeMoreModal.textContent = 'üíî see less';
        } else {
          modalMessage.classList.add('truncated');
          modalMessage.classList.remove('expanded');
          seeMoreModal.textContent = 'üíï see more';
        }
      });

      // "No" button escape behavior
      btnNo.addEventListener('mouseenter', function() {
        const maxX = window.innerWidth - this.offsetWidth - 20;
        const maxY = window.innerHeight - this.offsetHeight - 20;
        const randomX = Math.random() * maxX;
        const randomY = Math.random() * maxY;
        
        this.style.position = 'fixed';
        this.style.left = randomX + 'px';
        this.style.top = randomY + 'px';
      });

      // "Yes" button - Show main content with floating hearts
      btnYes.addEventListener('click', function() {
        modalOverlay.classList.add('hidden');
        
        // Create floating hearts animation
        createFloatingHearts();
        
        setTimeout(() => {
          mainContent.classList.add('visible');
        }, 300);
      });

      // Create floating hearts
      function createFloatingHearts() {
        const heartEmojis = ['üíï', 'üíñ', 'üíó', 'üíì', 'üíù', 'üíò', 'üíû', '‚ù§Ô∏è', 'üíü'];
        
        for (let i = 0; i < 30; i++) {
          setTimeout(() => {
            const heart = document.createElement('div');
            heart.className = 'floating-heart-emoji';
            heart.textContent = heartEmojis[Math.floor(Math.random() * heartEmojis.length)];
            heart.style.left = Math.random() * 100 + '%';
            heart.style.animationDelay = Math.random() * 2 + 's';
            heart.style.animationDuration = (4 + Math.random() * 3) + 's';
            floatingHearts.appendChild(heart);
            
            setTimeout(() => heart.remove(), 8000);
          }, i * 200);
        }
      }

      // Share CTA - Show share section
      shareCTA.addEventListener('click', function() {
        shareSection.classList.add('visible');
      });

      // Close share section
      closeShare.addEventListener('click', function() {
        shareSection.classList.remove('visible');
      });

      // Quick message buttons
      document.querySelectorAll('.quick-msg-btn').forEach(btn => {
        btn.addEventListener('click', function() {
          const msg = this.getAttribute('data-msg');
          loveInput.value = msg;
          loveInput.focus();
        });
      });

      // Generate link
      function buildShareLink(messageText) {
        let base = window.location.origin + window.location.pathname;
        let encoded = encodeURIComponent(messageText.trim() || "Be mine forever? üíï");
        return `${base}?msg=${encoded}`;
      }

      generateBtn.addEventListener('click', function() {
        const msg = loveInput.value.trim() || "Be mine forever? üíï";
        const shareUrl = buildShareLink(msg);
        
        generatedLink.href = shareUrl;
        generatedLink.textContent = shareUrl;
        linkPreview.classList.add('visible');
        
        // Auto copy
        navigator.clipboard.writeText(shareUrl).then(() => {
          generateBtn.textContent = '‚úÖ Link Generated & Copied!';
          setTimeout(() => {
            generateBtn.innerHTML = 'üîó Generate Love Link';
          }, 3000);
        });
      });

      // Copy button
      copyBtn.addEventListener('click', function() {
        const url = generatedLink.href;
        navigator.clipboard.writeText(url).then(() => {
          copyBtn.textContent = '‚úÖ Copied!';
          setTimeout(() => {
            copyBtn.textContent = 'üìã Copy Link';
          }, 2000);
        });
      });

      // Live preview
      loveInput.addEventListener('input', function() {
        if (linkPreview.classList.contains('visible')) {
          const msg = this.value.trim() || "Be mine forever? üíï";
          const shareUrl = buildShareLink(msg);
          generatedLink.href = shareUrl;
          generatedLink.textContent = shareUrl;
        }
      });
    })();
  </script>
</body>
</html>
